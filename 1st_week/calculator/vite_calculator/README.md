# 계산기 실습

이 프로젝트는 Vue.js와 TypeScript를 공부하기 위해 개발한 간단한 계산기 애플리케이션입니다. 
덧셈, 뺄셈, 곱셈, 나눗셈과 같은 기본적인 산술 연산을 지원하며, 이전 계산 기록을 효율적으로 관리하는 기능을 포함하고 있습니다.

## 주요 기능

*   **기본 산술 연산**: 덧셈(+), 뺄셈(-), 곱셈(*), 나눗셈(/)을 지원합니다.
*   **화면 표시**: 현재 입력값, 수식, 또는 계산 결과를 직관적으로 화면에 표시합니다.
*   **계산 기록 관리**:
    *   최대 10개의 최근 계산 기록을 저장합니다.
    *   저장된 기록을 다시 불러와 계산에 활용할 수 있습니다.
*   **초기화 기능**: 계산기 상태를 초기값으로 쉽게 리셋할 수 있습니다.
*   **입력 유효성 검사**:
    *   중복 소수점 입력을 방지합니다.
    *   입력 길이를 15자로 제한하여 오류를 줄입니다.
    *   0으로 나누기 및 유효하지 않은 연산에 대한 명확한 에러 메시지를 제공합니다.

## 사용 방법

### 계산기 화면

*   **숫자 및 소수점 입력**: 숫자 버튼(0-9)과 소수점(.) 버튼을 사용하여 숫자를 입력합니다.
*   **연산자 선택**: 연산자 버튼(+, -, \*, /)을 눌러 수식을 구성합니다.
*   **결과 계산**: `=` 버튼을 눌러 최종 계산 결과를 확인합니다.
*   **초기화**: `C` 버튼을 눌러 현재 입력값 및 계산기 상태를 초기화합니다.
*   **기록 조회**: `계산 기록` 버튼을 클릭하여 과거 계산 기록 화면으로 전환합니다.

### 계산 기록 화면

*   **기록 표시**: 최대 10개의 최근 계산 기록이 목록으로 표시됩니다.
*   **기록 불러오기**: 기록 항목을 클릭하면 해당 계산 결과가 계산기 화면으로 로드됩니다.
*   **화면 복귀**: `뒤로가기` 버튼을 눌러 계산기 화면으로 돌아갑니다.

## 코드 구조

본 프로젝트의 주요 코드 구조는 다음과 같습니다.

### 템플릿 (`.vue` 파일)

*   숫자, 연산자, 초기화, 기록 버튼 등 UI 요소를 포함합니다.
*   `v-if` 디렉티브를 사용하여 계산기와 기록 화면 간의 전환을 처리합니다.
*   `v-for` 디렉티브를 통해 계산 기록 항목을 동적으로 렌더링합니다.

### 주요 코드 설명

*   Vue 3의 Composition API와 TypeScript를 기반으로 작성되었습니다.
*   `reactive`를 활용하여 복잡한 상태를 관리하고, `computed`를 통해 동적인 출력값을 처리합니다.

### 주요 메서드

*   `userInput`: 숫자 및 소수점 입력을 처리합니다.
*   `operation`: 연산자 및 등호 처리를 통해 결과를 계산합니다.
*   `calculate`: 연산자 우선순위를 고려하여 산술 계산을 수행합니다.
*   `clear`: 계산기의 모든 상태를 초기화합니다.
*   `selectHistory`: 계산 기록 항목을 선택하여 해당 결과를 계산기에 로드합니다.

### 상태 관리 (Data State)

| 상태 변수   | 설명                                                                   |
| :---------- | :--------------------------------------------------------------------- |
| `output`    | 현재 결과 또는 에러 메시지를 저장합니다.                               |
| `prev`      | 이전 계산 결과를 저장합니다.                                           |
| `cur`       | 현재 입력값을 저장합니다.                                              |
| `operator`  | 현재 활성화된 연산자를 저장합니다.                                     |
| `expression`| 현재 계산 중인 수식을 저장합니다.                                      |
| `history`   | 최대 10개의 계산 기록을 저장하는 배열입니다.                           |
| `showHistory`| 기록 화면의 표시 여부를 제어합니다.                                    |

## 📚 학습 내용

이 프로젝트를 개발하면서 다음과 같은 기술과 개념을 깊이 있게 학습하고 적용했습니다.

### Vue.js Composition API

*   `defineComponent`를 사용한 컴포넌트 정의 및 구조화 방법을 익혔습니다.
*   `reactive`를 활용하여 복합 데이터의 반응형 상태를 효율적으로 관리하는 방법을 학습했습니다.
*   `computed` 속성을 사용하여 데이터에 기반한 동적 출력을 계산하는 방법을 이해했습니다.
*   `toRefs`를 통해 `reactive` 객체의 속성을 개별적으로 분해하면서도 반응성을 유지하는 기법을 습득했습니다.

### TypeScript

*   타입 정의(`string | null` 등)를 통해 코드의 안정성을 확보하고 잠재적인 오류를 줄이는 방법을 적용했습니다.
*   코드의 가독성과 유지보수성을 높이기 위해 인터페이스와 타입 추론을 적극적으로 활용했습니다.
*   에러 처리 로직을 구현하며 타입 안전한 프로그래밍의 중요성을 체감했습니다.

### UI/UX 설계

*   `v-if`와 `v-for` 디렉티브를 사용하여 동적인 화면 전환과 효율적인 렌더링을 구현했습니다.
*   `v-model` 사용을 통해 사용자 입력 지연 문제를 해결하고 부드러운 사용자 경험을 제공했습니다.

### 계산 로직 구현

*   곱셈/나눗셈 후 덧셈/뺄셈 순으로 연산자 우선순위를 처리하는 로직을 구현했습니다.
*   수식 파싱 및 토큰화를 통해 복잡한 수식을 효과적으로 처리하는 방법을 학습했습니다.
*   0으로 나누기, 유효하지 않은 입력, 비유한 결과 등 다양한 예외 상황에 대한 처리를 구현했습니다.

### 상태 관리

*   `prev`, `cur`, `operator`, `expression` 등 복잡한 계산기 상태를 체계적으로 관리하는 방법을 익혔습니다.
*   최대 10개로 제한된 계산 기록 배열을 효율적으로 관리하고 업데이트하는 로직을 최적화했습니다.

### 에러 핸들링

*   잘못된 숫자 형식, 0으로 나누기, 유효하지 않은 연산자 등 발생 가능한 오류를 처리했습니다.
*   사용자에게 친화적이고 이해하기 쉬운 에러 메시지를 출력하여 사용성을 개선했습니다.

## 한계점

현재 프로젝트는 다음과 같은 한계점을 가지고 있습니다.

*   백분율, 제곱근 등 고급 연산은 지원하지 않습니다.
*   계산 기록은 최대 10개로 제한됩니다.
*   키보드 입력은 지원되지 않으며, 모든 조작은 버튼 클릭에 의존합니다.

## 향후 개선 사항

다음과 같은 기능들을 추가하여 애플리케이션을 더욱 발전시킬 계획입니다.

*   키보드 입력 지원을 추가하여 사용자 편의성을 높일 예정입니다.
*   지수, 괄호 등 고급 연산 기능을 구현할 것입니다.
*   로컬 스토리지를 사용하여 계산 기록을 영속화하여 앱 재시작 시에도 기록이 유지되도록 할 예정입니다.